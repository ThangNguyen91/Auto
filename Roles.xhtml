<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:fcore="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">

    <body>

        <ui:composition template="./Layout.xhtml">

            <ui:define name="content">
                <div class="breadcrumb">
                    <a href="#">Home</a>
                    » <a href="#">Product</a>
                    » <a href="#" class="last">Add Products</a>
                </div>
                <h1>ADD PRODTUCS</h1>
                <div class="box-container">
                    <h:form enctype="multipart/form-data" id="register">
                        <div class="content">
                            <table class="form">      
                                <tbody><tr>
                                        <td>Discount :</td>
                                        <td><h:selectOneMenu id="DiscountItem" value="#{rolesManagedBean.discountId.discountId}" 
                                                             converter="#{converter.DiscountCoverter}" required="true" 
                                                             requiredMessage="Please select a Discount.">
                                                <fcore:selectItem value="#{null}" itemLabel="----Select Items---" />
                                                <fcore:selectItems value="${discountManagedBean.GetAllDiscount()}" var="c" 
                                                                   itemValue="#{c.discountId}" itemLabel="#{c.discountName}"/> 
                                            </h:selectOneMenu> <h:message for="DiscountItem" style="color: red" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Roles Name:</td>
                                        <td><h:inputText value="#{rolesManagedBean.name}" required="true" requiredMessage="Name is Required" id="Ename">
                                            </h:inputText> <h:message for="Ename"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Description:</td>
                                        <td><h:inputTextarea value="#{rolesManagedBean.description}" required="true" requiredMessage="Description is Required" id="txtDescription">
                                            </h:inputTextarea> <h:message for="txtDescription"/>   
                                        </td>
                                    </tr>                                    
                                </tbody></table>
                            <div class="buttons">
                                <div class="right">                  
                                    <h:commandButton class="button" value="Create" action="ListRoles" actionListener="#{rolesManagedBean.create()}" onclick="return confirm('Are you sure?')"/>
                                </div>
                            </div>
                        </div>
                    </h:form>
                    
                    <fcore:view>
                    <h:form>
                        <h:dataTable class="form" var="list" value="#{rolesManagedBean.GetAllRoles()}" border="1" cellpadding="2" cellspacing="2" >
                            <h:column>
                                <fcore:facet name="header">Roles ID</fcore:facet>
                                <h:outputText  value="#{list.rolesID}"/>
                            </h:column>

                            <h:column>
                                <fcore:facet name="header">Discount:</fcore:facet>
                                <h:outputText value="#{list.discountId.discountName}"/>
                            </h:column>
                            <h:column>
                                <fcore:facet name="header">Roles Name</fcore:facet>
                                <h:outputText value="#{list.name}"/>
                            </h:column>
                            <h:column>
                                <fcore:facet name="header">Description</fcore:facet>
                                <h:outputText value="#{list.description}"/>
                            </h:column>                    

                            <h:column>
                                <fcore:facet name="header">Edit</fcore:facet>
                                <h:commandLink action="updateRoles"  actionListener="#{rolesManagedBean.Edit()}" value="Edit">
                                    <fcore:param name="id" value="#{list.rolesID}"/>
                                </h:commandLink>
                            </h:column>

                            <h:column>
                                <fcore:facet name="header">Delete</fcore:facet>
                                <h:commandLink action="ListRoles"  actionListener="#{rolesManagedBean.delete()}" value="Delete" onclick="return confirm('Are You Sure ?')">
                                    <fcore:param name="id" value="#{list.rolesID}"/>
                                </h:commandLink>
                            </h:column>
                        </h:dataTable>
                    </h:form>
                </fcore:view>  
                </div>
                
                
            </ui:define>

        </ui:composition>

    </body>
</html>
